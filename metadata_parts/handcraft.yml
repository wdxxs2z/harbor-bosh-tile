label: Harbor Registry Service
description: harbor service
icon_image: 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
minimum_version_for_upgrade: 0.1.0
rank: 50
form_types:
- name: Harbor Configration
  label: Harbor Configration
  description: harbor config
  property_inputs:
  - reference: ".properties.harbor_external_url"
    label: harbor external url
    description: 'harbor external url such as: http://harbor-registry.domain.io:80'
  - reference: ".properties.mysql_harbor_password"
    label: harbor mysql password
    description: 'harbor mysql password'
  - reference: ".properties.harbor_adminservice_key"
    label: harbor admin server key
    description: 'harbor admin server key,such as:hespc2wZyu2wIHS'
  - reference: ".properties.harbor_self_registration"
    label: harbor self registration
    description: 'harbor admin server key,default true.'
  - reference: ".properties.harbor_project_creation_restriction"
    label: harbor project creation restriction
    description: 'harbor admin server key,default everyone.'
  - reference: ".properties.harbor_ssl_rsa_certificate"
    label: harbor certificate
    description: harbor self cert_pem
- name: LDAP Configration
  label: LDAP Configration
  description: ldap config
  property_inputs:
  - reference: ".properties.ldap_url"
    label: ldap endpoint url
    description: The LDAP endpoint URL (e.g. ldaps://ldap.mydomain.com)
  - reference: ".properties.ldap_search_dn"
    label: ldap search dn
    description: The DN of a user who has the permission to search an LDAP/AD server
      (e.g. uid=admin,ou=people,dc=mydomain,dc=com)
  - reference: ".properties.ldap_search_pwd"
    label: ldap search pwd
    description: The password of the user specified by search_dn
  - reference: ".properties.ldap_base_dn"
    label: ldap base dn
    description: The base DN to look up a user, e.g. ou=people,dc=mydomain,dc=com
  - reference: ".properties.ldap_filter"
    label: ldap filter
    description: The search filter for looking up a user, e.g. (objectClass=person)
  - reference: ".properties.ldap_uid"
    label: ldap uid
    description: The attribute used to match a user during a LDAP search, it could
      be uid, cn, email or other attributes
  - reference: ".properties.ldap_scope"
    label: ldap scope
    description: The scope to search for a user, 1-LDAP_SCOPE_BASE, 2-LDAP_SCOPE_ONELEVEL,
      3-LDAP_SCOPE_SUBTREE. Default is 3
  - reference: ".properties.ldap_timeout"
    label: ldap timeout
    description: The LDAP timeout
- name: Email Configration
  label: Email Configration
  description: Email config
  property_inputs:
  - reference: ".properties.ldap_email_server"
    label: ldap email server
    description: SMTP server
  - reference: ".properties.ldap_email_port"
    label: ldap email port
    description: SMTP server port
  - reference: ".properties.ldap_email_username"
    label: ldap email username
    description: SMTP server username
  - reference: ".properties.ldap_email_password"
    label: ldap email password
    description: SMTP server password
  - reference: ".properties.ldap_email_ssl"
    label: ldap email ssl
    description: Tf your SMTP server requires SSL, but does not support STARTTLS,
      then you should set this property to true
  - reference: ".properties.ldap_email_from"
    label: ldap email from
    description: SMTP From address
job_types:
- name: mysql
  label: mysql
  resource_label: mysql
  description: mysql
  templates:
  - name: mysql
    release: cf-mysql
  max_in_flight: 1
  dynamic_ip: 0
  static_ip: 1
  single_az_only: true
  instance_definition:
    name: instances
    type: integer
    default: 1
    configurable: true
    constraints:
      min: 0
      max: 6
  resource_definitions:
  - name: ram
    label: RAM
    type: integer
    configurable: true
    default: 4096
    constraints:
      min: 1024
  - name: ephemeral_disk
    type: integer
    label: Ephemeral Disk
    configurable: true
    default: 1024
  - name: persistent_disk
    type: integer
    label: Persistent Disk
    configurable: true
    default: 16384
    constraints:
      min: 4096
  - name: cpu
    type: integer
    label: CPU
    configurable: true
    default: 2
    constraints:
      min: 1
      power_of_two: true
  property_blueprints:
  - name: vm_credentials
    type: salted_credentials
    label: VM credentials
    default:
      identity: vcap
  - name: cf_mysql_admin_credentials
    type: simple_credentials
    label: mysql admin credential
    configurable: false
    default:
      identity: admin
  - name: cf_mysql_cluster_health_credentials
    type: simple_credentials
    label: mysql cluster health credential
    configurable: false
    default:
      identity: admin
  - name: cf_mysql_galera_healthcheck_db_credentials
    type: simple_credentials
    label: mysql galera healthcheck db credential
    configurable: false
    default:
      identity: admin
  - name: cf_mysql_galera_healthcheck_endpoint_credentials
    type: simple_credentials
    label: mysql galera healthcheck endpoint credential
    configurable: false
    default:
      identity: admin
  manifest: |
    cf_mysql:
      mysql:
        admin_password: (( cf_mysql_admin_credentials.password ))
        cluster_health:
          password: (( cf_mysql_cluster_health_credentials.password ))
        galera_healthcheck:
          db_password: (( cf_mysql_galera_healthcheck_db_credentials.password ))
          endpoint_password: (( cf_mysql_galera_healthcheck_endpoint_credentials.password ))
        seeded_databases:
        - name: harbor
          username: harbor
          password: (( .properties.mysql_harbor_password.value ))
- name: registry
  label: registry
  resource_label: registry
  description: docker registry
  templates:
  - consumes: |
      auth_token: {from: auth_token}
      notification: {from: notification}
      health_http: nil
      health_tcp: {from: health_tcp}
    name: registry
    release: docker-registry
  max_in_flight: 1
  dynamic_ip: 0
  static_ip: 1
  single_az_only: true
  instance_definition:
    name: instances
    type: integer
    default: 1
    configurable: true
    constraints:
      min: 0
      max: 6
  resource_definitions:
  - name: ram
    label: RAM
    type: integer
    configurable: true
    default: 4096
    constraints:
      min: 1024
  - name: ephemeral_disk
    type: integer
    label: Ephemeral Disk
    configurable: true
    default: 1024
  - name: persistent_disk
    type: integer
    label: Persistent Disk
    configurable: true
    default: 16384
    constraints:
      min: 4096
  - name: cpu
    type: integer
    label: CPU
    configurable: true
    default: 2
    constraints:
      min: 1
      power_of_two: true
  property_blueprints:
  - name: vm_credentials
    type: salted_credentials
    label: VM credentials
    default:
      identity: vcap
  - name: docker_registry_auth_credentials
    type: simple_credentials
    label: docker registry auth credential
    configurable: false
    default:
      identity: admin
  - name: docker_registry_http_credentials
    type: simple_credentials
    label: docker registry http credential
    configurable: false
    default:
      identity: admin
  manifest: |
    storage:
      driver: filesystem
      delete:
        enabled: true
    auth:
      token:
        schema: http
        port: 80
        path: /service/token
        service: harbor-registry
        issuer: harbor-token-issuer
        rootcertbundle: (( .properties.harbor_ssl_rsa_certificate.cert_pem ))
    http:
      listen_addr: 0.0.0.0
      secret: (( docker_registry_http_credentials.password))
      headers:
        X-Content-Type-Options: [nosniff]
    health:
      storagedriver:
        enabled: true
        interval: 10s
        threshold: 3
      tcp:
        port: 80
    notifications:
      endpoint:
        name: harbor
        schema: http
        port: 80
        path: /service/notifications
- name: harbor
  label: harbor
  resource_label: harbor
  description: harbor
  templates:
  - name: adminserver
    release: harbor
  - name: jobservice
    release: harbor
  - name: ui
    release: harbor
  max_in_flight: 1
  dynamic_ip: 0
  static_ip: 1
  single_az_only: true
  instance_definition:
    name: instances
    type: integer
    default: 1
    configurable: true
    constraints:
      min: 0
      max: 9
  resource_definitions:
  - name: ram
    label: RAM
    type: integer
    configurable: true
    default: 8192
    constraints:
      min: 1024
  - name: ephemeral_disk
    type: integer
    label: Ephemeral Disk
    configurable: true
    default: 1024
  - name: persistent_disk
    type: integer
    label: Persistent Disk
    configurable: true
    default: 16384
    constraints:
      min: 4096
  - name: cpu
    type: integer
    label: CPU
    configurable: true
    default: 2
    constraints:
      min: 1
      power_of_two: true
  property_blueprints:
  - name: vm_credentials
    type: salted_credentials
    label: VM credentials
    default:
      identity: vcap
  - name: harbor_initial_admin_credentials
    type: simple_credentials
    label: harbor initial admin credential
    configurable: false
    default:
      identity: admin
  - name: harbor_jobservice_secret
    type: simple_credentials
    label: harbor initial jobservice secret
    configurable: false
    default:
      identity: jobservice
  - name: harbor_ui_secret
    type: simple_credentials
    label: harbor initial ui secret
    configurable: false
    default:
      identity: ui
  manifest: |
    adminserver:
      port: 8080
      key: (( .properties.harbor_adminservice_key.value ))
      auth_mode: "db_auth"
      token_expiration: 1440
      verify_remote_cert: false
      external_url: (( .properties.harbor_external_url.value ))
      initial_admin_password: (( harbor_initial_admin_credentials.password ))
      reset: true
      self_registration: (( .properties.harbor_self_registration.value ))
      project_creation_restriction: (( .properties.harbor_project_creation_restriction.value ))
    jobservice:
      port: 8081
      secret: (( harbor_jobservice_secret.password ))
    ui:
      port: 8082
      secret: (( harbor_ui_secret.password ))
      private_key: (( .properties.harbor_ssl_rsa_certificate.private_key_pem ))
    mysql:
      username: harbor
      password: (( .properties.mysql_harbor_password.value ))
      port: 3306
      dbname: harbor
    ldap:
      url: (( .properties.ldap_url.value ))
      search_dn: (( .properties.ldap_search_dn.value ))
      search_pwd: (( .properties.ldap_search_pwd.value ))
      base_dn: (( .properties.ldap_base_dn.value ))
      filter: (( .properties.ldap_filter.value ))
      uid: (( .properties.ldap_uid.value ))
      scope: (( .properties.ldap_scope.value ))
      timeout: (( .properties.ldap_timeout.value ))
    email:
      server: (( .properties.ldap_email_server.value ))
      port: (( .properties.ldap_email_port.value ))
      username: (( .properties.ldap_email_username.value ))
      password: (( .properties.ldap_email_password.value ))
      ssl: (( .properties.ldap_email_ssl.value ))
      from: (( .properties.ldap_email_from.value ))
- name: nginx
  label: nginx
  resource_label: nginx
  description: nginx
  templates:
  - name: nginx
    release: harbor
  max_in_flight: 1
  dynamic_ip: 0
  static_ip: 1
  single_az_only: true
  instance_definition:
    name: instances
    type: integer
    default: 1
    configurable: true
    constraints:
      min: 0
      max: 9
  resource_definitions:
  - name: ram
    label: RAM
    type: integer
    configurable: true
    default: 8192
    constraints:
      min: 1024
  - name: ephemeral_disk
    type: integer
    label: Ephemeral Disk
    configurable: true
    default: 1024
  - name: persistent_disk
    type: integer
    label: Persistent Disk
    configurable: true
    default: 16384
    constraints:
      min: 4096
  - name: cpu
    type: integer
    label: CPU
    configurable: true
    default: 2
    constraints:
      min: 1
      power_of_two: true
  property_blueprints:
  - name: vm_credentials
    type: salted_credentials
    label: VM credentials
    default:
      identity: vcap
  manifest: |
    ssl_cert: (( .properties.harbor_ssl_rsa_certificate.cert_pem ))
    ssl_key: (( .properties.harbor_ssl_rsa_certificate.private_key_pem ))
property_blueprints:
- name: harbor_ssl_rsa_certificate
  configurable: true
  type: rsa_cert_credentials
- name: mysql_harbor_password
  type: secret
  configurable: true
- name: harbor_adminservice_key
  type: secret
  configurable: true
- name: harbor_external_url
  type: string
  configurable: true
- name: harbor_self_registration
  type: boolean
  configurable: true
  default: true
- name: harbor_project_creation_restriction
  type: dropdown_select
  default: everyone
  configurable: true
  optional: false
  options:
  - label: everyone
    name: everyone
  - label: adminonly
    name: adminonly
- name: ldap_url
  type: string
  optional: true
  configurable: true
- name: ldap_search_dn
  type: string
  optional: true
  configurable: true
- name: ldap_search_pwd
  type: string
  optional: true
  configurable: true
- name: ldap_base_dn
  type: string
  optional: true
  configurable: true
- name: ldap_filter
  type: string
  optional: true
  configurable: true
- name: ldap_uid
  type: string
  optional: true
  configurable: true
- name: ldap_scope
  type: string
  optional: true
  configurable: true
- name: ldap_timeout
  type: string
  optional: true
  configurable: true
- name: ldap_email_server
  type: string
  optional: true
  configurable: true
- name: ldap_email_port
  type: string
  optional: true
  configurable: true
- name: ldap_email_username
  type: string
  optional: true
  configurable: true
- name: ldap_email_password
  type: string
  optional: true
  configurable: true
- name: ldap_email_ssl
  type: boolean
  default: false
  configurable: true
- name: ldap_email_from
  type: string
  optional: true
  configurable: true

